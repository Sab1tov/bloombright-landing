# Настройка интеграции формы с Google Таблицами

## Шаг 1: Создание Google Таблицы

1. Перейдите на [Google Sheets](https://sheets.google.com)
2. Создайте новую таблицу
3. Скопируйте ID таблицы из URL (длинная строка между /d/ и /edit)
4. Создайте лист с названием "Form Responses"

## Шаг 2: Создание Google Apps Script

1. Перейдите на [Google Apps Script](https://script.google.com)
2. Создайте новый проект
3. Скопируйте код из файла `google-apps-script.gs`
4. Замените `YOUR_SPREADSHEET_ID_HERE` на ID вашей таблицы
5. Сохраните проект (Ctrl+S)
6. Нажмите "Deploy" → "New deployment"
7. Выберите тип "Web app"
8. Установите:
   - Execute as: "Me"
   - Who has access: "Anyone"
9. Нажмите "Deploy"
10. Скопируйте URL веб-приложения

## Шаг 3: Обновление кода

1. В файле `lib/form-submission.ts` замените `YOUR_GOOGLE_APPS_SCRIPT_URL_HERE` на URL вашего веб-приложения

## Шаг 4: Тестирование

1. Запустите проект: `npm run dev`
2. Перейдите к форме контактов
3. Заполните и отправьте форму
4. Проверьте, что данные появились в Google Таблице

## Структура данных в таблице

| Timestamp | First Name | Last Name | Mobile | Email | Role | Comment | Agreement |
|-----------|------------|-----------|--------|-------|------|---------|-----------|
| 2024-01-01T10:00:00Z | John | Doe | +971501234567 | john@example.com | A parent | Hello | Yes |

## Безопасность

- Google Apps Script URL публичный, но защищен от спама
- Можно добавить дополнительную валидацию в скрипт
- Рекомендуется настроить уведомления на email при новых заявках

## Устранение неполадок

1. **CORS ошибки**: Убедитесь, что в Google Apps Script установлен правильный доступ
2. **Данные не сохраняются**: Проверьте ID таблицы и права доступа
3. **Ошибки валидации**: Проверьте формат данных в форме
